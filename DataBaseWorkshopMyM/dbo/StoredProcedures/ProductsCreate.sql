CREATE PROCEDURE [dbo].[ProductsCreate]
	@CODIGO VARCHAR(10),
	@DESCRIPCION VARCHAR(300),
	@UNIDAD VARCHAR(20),
	@CANTIDADDISPONIBLE FLOAT,
	@PRECIOCOMPRA FLOAT,
	@PRECIOVENTA FLOAT,
	@COSTOTOTAL FLOAT 

AS
 BEGIN
  SET NOCOUNT ON

  BEGIN TRANSACTION TRASA

  BEGIN TRY


  INSERT INTO dbo.PRODUCTS
  (
     CODIGO
  	, DESCRIPCION		  
	, UNIDAD
	, CANTIDADDISPONIBLE
	, PRECIOCOMPRA
	, PRECIOVENTA
	, COSTOTOTAL  
  )
  VALUES
  (
      @CODIGO		  
	, @DESCRIPCION
	, @UNIDAD
	, @CANTIDADDISPONIBLE
	, @PRECIOCOMPRA
	, @PRECIOVENTA
	, @COSTOTOTAL
  )

  COMMIT TRANSACTION TRASA
  SELECT 0 AS CodeError, '' AS MsgError

  END TRY

	  BEGIN CATCH
		SELECT 
			   ERROR_NUMBER() AS CodeError,
			   ERROR_MESSAGE() AS MsgError

	  ROLLBACK TRANSACTION TRASA
  
  END CATCH

  END 

